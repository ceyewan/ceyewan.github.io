---
title: alist+vidhub搭建个人影视库
categories:
  - ForFun
tags:
  - alist
  - vidhub
  - emby
draft: false
slug: ff69aff9
date: 2024-04-04 21:28:06
---

## 1 使用 Alist 挂载网盘

alist 是一个神器，可以同时管理几乎所有的网盘。配置好之后，通过默认的 5244 端口访问它就可以。如果你有服务器，也可以使用公网的 IP 地址访问。可以看到，我挂载了阿里云盘、夸克网盘和 Pikpak 网盘这三个。

这样，我这三个网盘中数据都可以在浏览器这一个页面中管理，当然也可以直接播放了。

如果仅仅是这样，也没必要用到 alist。除了统一管理，还有一个好处就是不限速。阿里云盘号称不限速网盘，但是在使用官方客户端时，它还是会限制视频的清晰度和倍数，不过在 alist 中，这一切都是不存在的，默认原画，倍数最高支持 16 倍，跑满带宽。

![image-20240404194448629](https://ceyewan.oss-cn-beijing.aliyuncs.com/typora/image-20240404194448629.png)

安装配置 alist 还是很简单的：

- 首先，使用 [官网的安装指导](https://alist.nn.ci/zh/guide/install/) 来安装。
- 然后，使用 [官网的添加存储指导](https://alist.nn.ci/zh/guide/drivers/) 来添加你需要挂载的网盘。

由于夸克的限速，只能使用本地代理方式，而阿里云和 Pikpak 等都可以使用 302 重定向。具体而言，如果使用浏览器观看视频，本地代理就是说浏览器的数据来自 alist，alist 的数据来自网盘；而 302 重定向就是说数据会被重定向，浏览器直接访问网盘获取数据，只在最开始用到 alist。

如果服务器带宽不够，是不能够部署夸克网盘的，但是可以部署阿里云盘，因此，小雅用的都是阿里云盘的数据。

对了，alist 配置开机启动我搞了蛮久，后面发现，把 alist 文件直接拖入 Mac 的登录项登录时打开就可以了。

## 2 使用 Vidhub 刮削好看的海报墙

直接在浏览器看还是太丑陋了，不够优雅。尽管浏览器播放页面可以跳转本地播放器，但是这还是不够优雅。有很多能挂载网盘的播放器，使用的挂载协议是 WebDAV，比如 Infuse 和 vidhub。我使用的是 vidhub，因为它免费。

阿里云盘本来就支持 WebDAV，因此可以直接挂载，如果你只用阿里云盘，那么其实是没必要搞 alist 的。

![image-20240404201221603](https://ceyewan.oss-cn-beijing.aliyuncs.com/typora/image-20240404201221603.png)

添加 Alist 时，注意使用 HTTP 协议的 WebDAV 而不是 HTTPS 协议，注意路径为 /dav，这是 alist 规定的。

添加了文件源之后， vidhub 就会开始刮削文件了，vidhub 使用的是 TMDB 的数据库。对于电影来说有名字就好了，如果有重名的，那么还需要有年份。例如：

```go
The.Pig.the.Snake.and.the.Pigeon.2023.HD1080P.X264.AAC.mp4
```

如果是电视剧，那么需要使用 S01E01 分别表示季数和级数。综艺的话就麻烦一些，很多加更都没有，或者统一在 S00 里面，表示特别季。某一集具体是第几季第几集可以去 TMDB 这个网站看。

我们把名称修改好之后，vidhub 就能够正确的刮削了。效果如下，还是非常不错的。

![image-20240404202714627](https://ceyewan.oss-cn-beijing.aliyuncs.com/typora/image-20240404202714627.png)

![image-20240404202624024](https://ceyewan.oss-cn-beijing.aliyuncs.com/typora/image-20240404202624024.png)

## 3 小雅数据集

上面已经很够了，我平时就是这样用的。想看一部片子，在网上找到网盘资源，修改成可以刮削的命令（vidhub 和 alist 都可以批量重命名），然后在 vidhub 中观影即可。

后面的东西只是折腾看看，其实我并不常用。小雅数据集其实也是基于 alist，并且都是阿里云盘数据。它的原理就是小雅给你整理好了大量了阿里云盘分享链接，挂载在 alist 上，观看视频的时候，会将视频文件保存到你的阿里云盘中，然后看的时候其实就是从你自己的云盘中看的。

-   [配置指导文件](https://xiaoyaliu.notion.site/xiaoya-docker-69404af849504fa5bcf9f2dd5ecaa75f)，很详细啦，因为都是阿里云盘支持重定向，不要求服务器的带宽，我们可以把它部署到云服务器上，这样随便谁都可以访问了，当然了，可以配置需要用户名和密码。

![image-20240404204731354](https://ceyewan.oss-cn-beijing.aliyuncs.com/typora/image-20240404204731354.png)

小雅的好处是，每天都会更新，数据超级丰富。缺点就是东西太多了，用起来不舒服，我只想看我想看的，别的东西都是干扰。所以这个搭建起来基本上都是给我的亲朋好友体验一下的，也没人天天追剧，所以基本没人用。

## 4 Emby

小雅里面元数据这个文件夹里面的东西，就是刮削的元数据。也就是说，我们可以把它下载下来然后解压，就可以直接使用了。不然，这么多剧自己刮削得花多久时间，指不定就会被阿里云盘封 IP 了。

并且没有那么多可以自动刮削的播放器，尤其是在安卓端和 Windows 端。我们可以使用 rclone 将 alist 挂载的网盘挂载到本地，当成一个本地文件夹。而 emby 服务器可以扫描本地的文件夹，并且供客户端访问。

emby 还是很好用的，就是刮削的时候速度很慢，可以通过配置 hosts 文件缓解这个问题。我本来打算折腾一个小雅 +rclone+emby+ 内网穿透供各位亲朋好友使用。但是小雅的元数据就要准备 140G 的空间，我的云服务器就带不起了；而 rclone 在 Mac 上将云盘挂载到本地需要的权限很难弄，MacOS 是一个安全的系统。

就懒得折腾了，毕竟我自己用不到。稍微搞了一下，效果如下，还是很好看的是吧。

![image-20240404210714555](https://ceyewan.oss-cn-beijing.aliyuncs.com/typora/image-20240404210714555.png)

![image-20240404210637431](https://ceyewan.oss-cn-beijing.aliyuncs.com/typora/image-20240404210637431.png)

## 5 猫影视

-   [官网](https://github.com/catvod/CatVodOpen)，可以下载软件，只是一个框架，里面什么都没有，我们需要更改配置文件。
- 配置文件，我发现很多分享它的公众号，其微信搜索猫影视，能白嫖一堆配置。
- 一般来说，需要填阿里云盘的 token 或夸克的 cookie 之类的，本质上也是把视频存你网盘然后再查看。
- 这软件是真漂亮，很清爽。不想用别人的源可以只添加自己的 alist。
- 小雅 plus 哈哈哈哈哈，好像都比较推荐用玩偶源。

![image-20240404212415051](https://ceyewan.oss-cn-beijing.aliyuncs.com/typora/image-20240404212415051.png)

## 6 TO DO

- 电视盒子咋搞，我现在在学校管自己电脑就行了。但是回家了电视盒子咋搞，电视看剧才是用的最多的。
- 家庭影视库，应该用一个小设备，linux 系统，阿里云盘 +alist+rclone+emby 供大家一起用。
