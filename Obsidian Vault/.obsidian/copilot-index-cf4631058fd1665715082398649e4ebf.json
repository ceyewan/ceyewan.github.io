{"internalDocumentIDStore":{"internalIdToId":["22fa1c9c87ce1d30b1cd799b22a0a302","391204ca04c85d9757240aef973fb259","6fbcfabe3a4241d366b412bb58b7927d"]},"index":{"indexes":{"id":{"type":"Radix","node":{"w":"","s":"","c":{"2":{"w":"22fa1c9c87ce1d30b1cd799b22a0a302","s":"22fa1c9c87ce1d30b1cd799b22a0a302","c":{},"d":[],"e":true},"3":{"w":"391204ca04c85d9757240aef973fb259","s":"391204ca04c85d9757240aef973fb259","c":{},"d":[],"e":true},"6":{"w":"6fbcfabe3a4241d366b412bb58b7927d","s":"6fbcfabe3a4241d366b412bb58b7927d","c":{},"d":[],"e":true}},"d":[],"e":false},"isArray":false},"title":{"type":"Radix","node":{"w":"","s":"","c":{"g":{"w":"go","s":"go","c":{},"d":[],"e":true},"a":{"w":"air","s":"air","c":{},"d":[],"e":true},"z":{"w":"zap","s":"zap","c":{},"d":[],"e":true}},"d":[],"e":false},"isArray":false},"path":{"type":"Radix","node":{"w":"","s":"","c":{"m":{"w":"md","s":"md","c":{},"d":[],"e":true},"g":{"w":"go","s":"go","c":{},"d":[],"e":true},"a":{"w":"air","s":"air","c":{},"d":[],"e":true},"z":{"w":"zap","s":"zap","c":{},"d":[],"e":true}},"d":[],"e":false},"isArray":false},"content":{"type":"Radix","node":{"w":"","s":"","c":{"0":{"w":"0","s":"0","c":{"4":{"w":"04","s":"4","c":{},"d":[],"e":true},"9":{"w":"09","s":"9","c":{},"d":[],"e":true}},"d":[],"e":false},"1":{"w":"1","s":"1","c":{"0":{"w":"10","s":"0","c":{},"d":[],"e":true},"2":{"w":"12345","s":"2345","c":{},"d":[],"e":true},"4":{"w":"14","s":"4","c":{},"d":[],"e":true},"5":{"w":"15","s":"5","c":{},"d":[],"e":true},"6":{"w":"16","s":"6","c":{"8":{"w":"168","s":"8","c":{},"d":[],"e":true}},"d":[],"e":true},"9":{"w":"192","s":"92","c":{},"d":[],"e":true}},"d":[],"e":true},"2":{"w":"2","s":"2","c":{"0":{"w":"20","s":"0","c":{"2":{"w":"2025","s":"25","c":{},"d":[],"e":true}},"d":[],"e":true},"1":{"w":"21","s":"1","c":{},"d":[],"e":true},"2":{"w":"22","s":"2","c":{},"d":[],"e":true},"5":{"w":"25","s":"5","c":{},"d":[],"e":true},"6":{"w":"26","s":"6","c":{},"d":[],"e":true},"7":{"w":"27","s":"7","c":{},"d":[],"e":true}},"d":[],"e":true},"3":{"w":"3","s":"3","c":{"5":{"w":"35","s":"5","c":{},"d":[],"e":true},"9":{"w":"39","s":"9","c":{},"d":[],"e":true}},"d":[],"e":true},"4":{"w":"4","s":"4","c":{"2":{"w":"42","s":"2","c":{},"d":[],"e":true},"6":{"w":"46","s":"6","c":{},"d":[],"e":true}},"d":[],"e":true},"5":{"w":"52","s":"52","c":{},"d":[],"e":true},"6":{"w":"6","s":"6","c":{},"d":[],"e":true},"8":{"w":"8","s":"8","c":{"0":{"w":"8080","s":"080","c":{},"d":[],"e":true},"2":{"w":"824","s":"24","c":{},"d":[],"e":true}},"d":[],"e":false},"n":{"w":"n","s":"n","c":{"o":{"w":"note","s":"ote","c":{},"d":[],"e":true},"a":{"w":"nacos","s":"acos","c":{},"d":[],"e":true}},"d":[],"e":false},"t":{"w":"t","s":"t","c":{"i":{"w":"ti","s":"i","c":{"t":{"w":"title","s":"tle","c":{},"d":[],"e":true},"m":{"w":"time","s":"me","c":{},"d":[],"e":true}},"d":[],"e":false},"r":{"w":"tr","s":"r","c":{"a":{"w":"traefik","s":"aefik","c":{},"d":[],"e":true},"u":{"w":"true","s":"ue","c":{},"d":[],"e":true}},"d":[],"e":false},"o":{"w":"toml","s":"oml","c":{},"d":[],"e":true},"m":{"w":"tmp","s":"mp","c":{},"d":[],"e":true},"e":{"w":"templates","s":"emplates","c":{},"d":[],"e":true}},"d":[],"e":false},"m":{"w":"m","s":"m","c":{"e":{"w":"metadata","s":"etadata","c":{},"d":[],"e":true},"o":{"w":"mod","s":"od","c":{"i":{"w":"modified","s":"ified","c":{},"d":[],"e":true}},"d":[],"e":true},"i":{"w":"mit","s":"it","c":{},"d":[],"e":true},"a":{"w":"main","s":"ain","c":{},"d":[],"e":true}},"d":[],"e":false},"c":{"w":"c","s":"c","c":{"r":{"w":"created","s":"reated","c":{},"d":[],"e":true},"o":{"w":"co","s":"o","c":{"n":{"w":"con","s":"n","c":{"t":{"w":"content","s":"tent","c":{},"d":[],"e":true},"s":{"w":"consul","s":"sul","c":{},"d":[],"e":true}},"d":[],"e":false},"m":{"w":"com","s":"m","c":{},"d":[],"e":true}},"d":[],"e":false},"l":{"w":"cli","s":"li","c":{},"d":[],"e":true},"m":{"w":"cmd","s":"md","c":{},"d":[],"e":true}},"d":[],"e":false},"b":{"w":"b","s":"b","c":{"l":{"w":"block","s":"lock","c":{},"d":[],"e":true},"u":{"w":"build","s":"uild","c":{},"d":[],"e":true},"i":{"w":"bin","s":"in","c":{},"d":[],"e":true}},"d":[],"e":false},"-":{"w":"-","s":"-","c":{"o":{"w":"-o","s":"o","c":{},"d":[],"e":true},"-":{"w":"--","s":"-","c":{"b":{"w":"--build","s":"build","c":{},"d":[],"e":true},"p":{"w":"--port","s":"port","c":{},"d":[],"e":true}},"d":[],"e":false}},"d":[],"e":true},"s":{"w":"s","s":"s","c":{"e":{"w":"se","s":"e","c":{"n":{"w":"sentinel","s":"ntinel","c":{},"d":[],"e":true},"r":{"w":"server","s":"rver","c":{},"d":[],"e":true}},"d":[],"e":false},"t":{"w":"st","s":"t","c":{"r":{"w":"str","s":"r","c":{"e":{"w":"stream","s":"eam","c":{},"d":[],"e":true},"i":{"w":"string","s":"ing","c":{},"d":[],"e":true}},"d":[],"e":false},"a":{"w":"stack","s":"ack","c":{},"d":[],"e":true}},"d":[],"e":false},"h":{"w":"shell","s":"hell","c":{},"d":[],"e":true},"y":{"w":"sy","s":"y","c":{"s":{"w":"systemd","s":"stemd","c":{},"d":[],"e":true},"n":{"w":"sync","s":"nc","c":{},"d":[],"e":true}},"d":[],"e":false},"u":{"w":"sugaredlogger","s":"ugaredlogger","c":{},"d":[],"e":true}},"d":[],"e":false},"e":{"w":"e","s":"e","c":{"n":{"w":"en","s":"n","c":{"v":{"w":"envoy","s":"voy","c":{},"d":[],"e":true},"c":{"w":"encoder","s":"coder","c":{},"d":[],"e":true}},"d":[],"e":false},"t":{"w":"etcd","s":"tcd","c":{},"d":[],"e":true},"x":{"w":"exclude_dir","s":"xclude_dir","c":{},"d":[],"e":true},"l":{"w":"el","s":"l","c":{"k":{"w":"elk","s":"k","c":{},"d":[],"e":true},"a":{"w":"elasticsearch","s":"asticsearch","c":{},"d":[],"e":true}},"d":[],"e":false}},"d":[],"e":false},"r":{"w":"r","s":"r","c":{"a":{"w":"ra","s":"a","c":{"t":{"w":"rate-limit","s":"te-limit","c":{},"d":[],"e":true},"f":{"w":"raft","s":"ft","c":{},"d":[],"e":true}},"d":[],"e":false},"e":{"w":"re","s":"e","c":{"s":{"w":"resilience4j","s":"silience4j","c":{},"d":[],"e":true},"d":{"w":"redis","s":"dis","c":{},"d":[],"e":true}},"d":[],"e":false},"b":{"w":"rbac","s":"bac","c":{},"d":[],"e":true},"u":{"w":"run","s":"un","c":{},"d":[],"e":true}},"d":[],"e":false},"h":{"w":"hystrix","s":"hystrix","c":{},"d":[],"e":true},"k":{"w":"k","s":"k","c":{"8":{"w":"k8s","s":"8s","c":{},"d":[],"e":true},"o":{"w":"kong","s":"ong","c":{},"d":[],"e":true},"a":{"w":"kafka","s":"afka","c":{},"d":[],"e":true},"v":{"w":"kv","s":"v","c":{},"d":[],"e":true},"i":{"w":"kibana","s":"ibana","c":{},"d":[],"e":true}},"d":[],"e":false},"j":{"w":"j","s":"j","c":{"a":{"w":"jaeger","s":"aeger","c":{},"d":[],"e":true},"w":{"w":"jwt","s":"wt","c":{},"d":[],"e":true},"s":{"w":"json","s":"son","c":{},"d":[],"e":true},"o":{"w":"john_doe","s":"ohn_doe","c":{},"d":[],"e":true}},"d":[],"e":false},"p":{"w":"p","s":"p","c":{"r":{"w":"pr","s":"r","c":{"o":{"w":"prometheus","s":"ometheus","c":{},"d":[],"e":true},"i":{"w":"printf","s":"intf","c":{},"d":[],"e":true}},"d":[],"e":false},"k":{"w":"pkg","s":"kg","c":{},"d":[],"e":true},"o":{"w":"pool","s":"ool","c":{},"d":[],"e":true}},"d":[],"e":false},"o":{"w":"o","s":"o","c":{"a":{"w":"oauth","s":"auth","c":{},"d":[],"e":true}},"d":[],"e":true},"d":{"w":"d","s":"d","c":{"d":{"w":"ddd","s":"dd","c":{},"d":[],"e":true},"o":{"w":"docker","s":"ocker","c":{},"d":[],"e":true}},"d":[],"e":false},"l":{"w":"l","s":"l","c":{"s":{"w":"lsm","s":"sm","c":{},"d":[],"e":true},"a":{"w":"latest","s":"atest","c":{},"d":[],"e":true},"o":{"w":"log","s":"og","c":{"g":{"w":"logge","s":"ge","c":{"r":{"w":"logger","s":"r","c":{},"d":[],"e":true},"d":{"w":"logged","s":"d","c":{},"d":[],"e":true}},"d":[],"e":false},"r":{"w":"logrus","s":"rus","c":{},"d":[],"e":true},"s":{"w":"logstash","s":"stash","c":{},"d":[],"e":true}},"d":[],"e":true}},"d":[],"e":false},"g":{"w":"g","s":"g","c":{"o":{"w":"go","s":"o","c":{"p":{"w":"gopath","s":"path","c":{},"d":[],"e":true}},"d":[],"e":true},"i":{"w":"git","s":"it","c":{"h":{"w":"github","s":"hub","c":{},"d":[],"e":true},"i":{"w":"gitignore","s":"ignore","c":{},"d":[],"e":true}},"d":[],"e":false},"e":{"w":"get","s":"et","c":{},"d":[],"e":true}},"d":[],"e":false},"a":{"w":"a","s":"a","c":{"i":{"w":"air","s":"ir","c":{"-":{"w":"air-verse","s":"-verse","c":{},"d":[],"e":true}},"d":[],"e":true},"p":{"w":"api","s":"pi","c":{},"d":[],"e":true}},"d":[],"e":false},"i":{"w":"i","s":"i","c":{"n":{"w":"in","s":"n","c":{"s":{"w":"install","s":"stall","c":{},"d":[],"e":true},"i":{"w":"init","s":"it","c":{},"d":[],"e":true},"t":{"w":"int","s":"t","c":{"e":{"w":"interface","s":"erface","c":{},"d":[],"e":true}},"d":[],"e":true},"f":{"w":"info","s":"fo","c":{},"d":[],"e":true}},"d":[],"e":true},"p":{"w":"ip","s":"p","c":{},"d":[],"e":true}},"d":[],"e":true},"f":{"w":"f","s":"f","c":{"u":{"w":"full_bin","s":"ull_bin","c":{},"d":[],"e":true},"i":{"w":"field","s":"ield","c":{},"d":[],"e":true},"o":{"w":"formatter","s":"ormatter","c":{},"d":[],"e":true}},"d":[],"e":false},"w":{"w":"w","s":"w","c":{"i":{"w":"will","s":"ill","c":{},"d":[],"e":true},"r":{"w":"wrapper","s":"rapper","c":{},"d":[],"e":true}},"d":[],"e":false},"z":{"w":"zap","s":"zap","c":{},"d":[],"e":true},"u":{"w":"user","s":"user","c":{"n":{"w":"username","s":"name","c":{},"d":[],"e":true},"_":{"w":"user_id","s":"_id","c":{},"d":[],"e":true}},"d":[],"e":true}},"d":[],"e":false},"isArray":false},"embeddingModel":{"type":"Radix","node":{"w":"","s":"","c":{"d":{"w":"doubao-embedding-text-240715","s":"doubao-embedding-text-240715","c":{},"d":[],"e":true}},"d":[],"e":false},"isArray":false},"created_at":{"type":"AVL","node":{"root":{"k":0,"v":[],"l":null,"r":null,"h":0}},"isArray":false},"ctime":{"type":"AVL","node":{"root":{"k":0,"v":[],"l":null,"r":null,"h":0}},"isArray":false},"mtime":{"type":"AVL","node":{"root":{"k":0,"v":[],"l":null,"r":null,"h":0}},"isArray":false},"tags":{"type":"Radix","node":{"w":"","s":"","c":{},"d":[],"e":false},"isArray":true},"extension":{"type":"Radix","node":{"w":"","s":"","c":{"m":{"w":"md","s":"md","c":{},"d":[],"e":true}},"d":[],"e":false},"isArray":false}},"vectorIndexes":{"embedding":{"size":2560,"vectors":{}}},"searchableProperties":["id","title","path","content","embedding","embeddingModel","created_at","ctime","mtime","tags","extension"],"searchablePropertiesWithTypes":{"id":"string","title":"string","path":"string","content":"string","embedding":"vector[2560]","embeddingModel":"string","created_at":"number","ctime":"number","mtime":"number","tags":"string[]","extension":"string"},"frequencies":{"id":{},"title":{},"path":{},"content":{},"embeddingModel":{},"tags":{},"extension":{}},"tokenOccurrences":{"id":{"22fa1c9c87ce1d30b1cd799b22a0a302":0,"391204ca04c85d9757240aef973fb259":0,"6fbcfabe3a4241d366b412bb58b7927d":0},"title":{"go":0,"air":0,"zap":0},"path":{"md":0,"go":0,"air":0,"zap":0},"content":{"1":0,"2":0,"3":0,"4":0,"6":0,"10":0,"14":0,"15":0,"16":0,"20":0,"21":0,"22":0,"25":0,"26":0,"27":0,"35":0,"39":0,"42":0,"46":0,"52":0,"168":0,"192":0,"824":0,"2025":0,"8080":0,"12345":0,"note":0,"title":0,"metadata":0,"created":0,"04":0,"modified":0,"block":0,"content":0,"-":0,"sentinel":0,"envoy":0,"rate-limit":0,"hystrix":0,"resilience4j":0,"traefik":0,"kong":0,"jaeger":0,"etcd":0,"nacos":0,"consul":0,"redis":0,"stream":0,"kafka":0,"prometheus":0,"k8s":0,"rbac":0,"jwt":0,"oauth":0,"ddd":0,"raft":0,"lsm":0,"kv":0,"mit":0,"go":0,"air":0,"09":0,"run":0,"shell":0,"install":0,"github":0,"com":0,"air-verse":0,"latest":0,"get":0,"mod":0,"gopath":0,"pkg":0,"cli":0,"init":0,"toml":0,"build":0,"cmd":0,"-o":0,"tmp":0,"main":0,"bin":0,"full_bin":0,"true":0,"log":0,"time":0,"--build":0,"api":0,"exclude_dir":0,"templates":0,"will":0,"server":0,"--port":0,"gitignore":0,"systemd":0,"docker":0,"zap":0,"sugaredlogger":0,"printf":0,"logger":0,"logrus":0,"interface":0,"field":0,"sync":0,"pool":0,"wrapper":0,"encoder":0,"json":0,"formatter":0,"i":0,"o":0,"info":0,"user":0,"logged":0,"in":0,"string":0,"username":0,"john_doe":0,"int":0,"user_id":0,"ip":0,"elk":0,"stack":0,"elasticsearch":0,"logstash":0,"kibana":0},"embeddingModel":{"doubao-embedding-text-240715":0},"tags":{},"extension":{"md":0}},"avgFieldLength":{"tags":0},"fieldLengths":{"id":{},"title":{},"path":{},"content":{},"embeddingModel":{},"tags":{},"extension":{}}},"docs":{"docs":{},"count":0},"sorting":{"language":"english","sortableProperties":["id","title","path","content","embeddingModel","created_at","ctime","mtime","extension"],"sortablePropertiesWithTypes":{"id":"string","title":"string","path":"string","content":"string","embeddingModel":"string","created_at":"number","ctime":"number","mtime":"number","extension":"string"},"sorts":{"id":{"docs":{"1":0},"orderedDocs":[[1,"22fa1c9c87ce1d30b1cd799b22a0a302"]],"type":"string"},"title":{"docs":{"2":0},"orderedDocs":[[2,"Go 热重载工具 air"]],"type":"string"},"path":{"docs":{"2":0},"orderedDocs":[[2,"Go 库使用说明/Go 热重载工具 air.md"]],"type":"string"},"content":{"docs":{"2":0},"orderedDocs":[[2,"\n\nNOTE TITLE: [[Go 热重载工具 air]]\n\nMETADATA:{\"created\":\"2025/04/26 09:39:14\",\"modified\":\"2025/04/26 10:21:35\"}\n\nNOTE BLOCK CONTENT:\n\nair 是一款专为 Go 项目设计的**热重载工具**，它能够在开发者保存代码文件时自动触发重新编译并重启程序。相比直接使用 `go run` 命令，air 提供了更多实用功能：\n\n- 支持自定义构建和运行命令\n- 避免路径错误和日志丢失问题\n- 配置灵活且使用简单\n- 显著提升本地开发效率\n\n## 1 安装\n\n安装 air 非常简单，只需执行以下命令：\n\n```shell\ngo install github.com/air-verse/air@latest\n```\n\n- `go get` 主要作用是**将某个模块加入 go.mod**，并下载源码到本地缓存（GOPATH/pkg/mod）；\n- `go install` 主要用于**安装 CLI 工具或构建你自己的可执行程序**。\n\n## 2 使用\n\n### 2.1 基础使用\n\n最简单的使用方式是直接在项目目录下运行：\n\n```shell\nair\n```\n\n这会使用默认配置启动热重载功能。但更推荐的方式是通过配置文件进行详细配置。\n\n### 2.2 配置文件\n\n执行以下命令生成默认配置文件：\n\n```shell\nair init\n```\n\n这会生成一个 `.air.toml` 文件，内容类似：\n\n```toml\n# .air.toml\n[build]\ncmd = \"go build -o ./tmp/main ./main.go\"  # 指定构建命令，产出你要执行的 ./main\nbin = \"./tmp/main\"                        # air 会运行这个二进制文件\nfull_bin = true                           # 使用完整路径（不加的话在某些环境变量下会找不到）\n\n[run]\ncmd = \"\"                                  # 不加的话 air 会自动运行上面 build 出来的 bin\n\n[log]\ntime = true\n```\n\n### 2.3 配置详解\n\n1. **构建配置**：\n    - `cmd`：指定构建命令\n    - `bin`：指定构建输出的可执行文件路径\n    - `full_bin`：是否使用完整路径（避免环境变量问题）\n2. **运行配置**：\n    - `cmd`：可指定运行命令（留空则自动运行构建出的二进制文件）\n3. **日志配置**：\n    - `time`：是否显示时间戳\n\n## 3 高级用法\n\n### 3.1 自定义构建命令\n\n```shell\nair --build.cmd \"go build -o bin/api cmd/run.go\" --build.bin \"./bin/api\"\n```\n\n### 3.2 排除特定目录\n\n```shell\nair --build.exclude_dir \"templates,build\"\n```\n\n### 3.3 传递运行参数\n\n```shell\n# Will run ./tmp/main server --port 8080\nair server --port 8080\n```\n\n## 4 注意事项\n\n1. **不要使用 `go run`**：\n    - air 的底层机制是编译后执行\n    - `go run` 会在临时目录构建，可能导致路径问题\n2. **临时文件位置**：\n    - air 默认将编译好的程序放在 `tmp` 文件夹\n    - 确保你的项目有适当的 `.gitignore` 配置\n3. **与热部署的区别**：\n    - **热重载**：开发环境使用，修改代码后自动编译 + 运行\n    - **热部署**：生产环境使用，实现不中断服务的版本更新\n\n>[!NOTE] 热重载&热部署\n> **热重载**：改代码后自动编译 + 运行，常用于开发环境（如 air）；\n> **热部署**：上线新版本时不中断服务，常用于生产环境，涉及滚动发布、负载均衡等；\n> **守护进程**：程序崩溃或退出后自动重启，保持服务持续运行，如 systemd 和 docker；"]],"type":"string"},"embeddingModel":{"docs":{"1":0},"orderedDocs":[[1,"doubao-embedding-text-240715"]],"type":"string"},"created_at":{"docs":{"1":0},"orderedDocs":[[1,1745634203420]],"type":"number"},"ctime":{"docs":{"1":0},"orderedDocs":[[1,1745137242922]],"type":"number"},"mtime":{"docs":{"1":0},"orderedDocs":[[1,1745567540381]],"type":"number"},"extension":{"docs":{"1":0},"orderedDocs":[[1,"md"]],"type":"string"}},"enabled":true,"isSorted":true},"language":"english","schema":{"id":"string","title":"string","path":"string","content":"string","embedding":"vector[2560]","embeddingModel":"string","created_at":"number","ctime":"number","mtime":"number","tags":"string[]","extension":"string"}}